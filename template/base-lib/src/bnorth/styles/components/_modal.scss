// Amaze UI Touch: Modals
//
// Includes Alert, Prompt, Confirm, Loading, Actions, Popup, Popover
// =============================================================================


// Output
// -----------------------------------------------------------------------------

.#{$modal-prefix} {
  position: fixed;
  z-index: $z-index-modal;
  left: 50%;
  top: 50%;
  width: $modal-width;
  text-align: center;
  transform: translate3d(-50%, -50%, 0);
  -webkit-transform: translate3d(-50%, -50%, 0);

  &:focus {
    outline: 0;
  }
}

.#{$modal-prefix}-inner {
  position: relative;
  background: $modal-background;
  backface-visibility: hidden;
  perspective: 1000px;
  animation: amt-modal-in $modal-duration ease-out;
  -webkit-animation: amt-modal-in $modal-duration ease-out;
  border-radius: $global-radius;

  .#{$modal-prefix}-out & {
    animation-name: amt-modal-out;
    -webkit-animation-name: amt-modal-out;
  }
}

@keyframes amt-modal-in {
  from {
    opacity: 0;
    transform: scale3d(0.5, 0.5, 1);
  }

  to {
    transform: scale3d(1, 1, 1);
    opacity: 1;
  }
}

@keyframes amt-modal-out {
  to {
    opacity: 0;
    transform: scale3d(0.5, 0.5, 1);
    -webkit-transform: scale3d(0.5, 0.5, 1);
  }
}

// modal header
.#{$modal-prefix}-header {
  padding: rem-calc(10);
  border-bottom: 1px solid $modal-border-color;
  text-align: left;
}

.#{$modal-prefix}-title {
  margin: 0;
  //font-weight: $font-weight-bold;
  //font-size: rem-calc(16);
}

// close icon
%modal-icon {
  position: absolute;
  right: rem-calc(5);
  top: rem-calc(5);
  color: $gray;
  cursor: pointer;

  &:active {
    color: $gray;
    background: $gray-lighter;
  }
}

.#{$modal-prefix}-icon {
  @extend %modal-icon;
}

// modal fullcontent
// -----------------------------------------------------------------------------
.#{$modal-prefix}-fullcontent {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// modal body
// -----------------------------------------------------------------------------
.#{$modal-prefix}-body {
  padding: $global-spacing;
  text-align: left;

  .#{$modal-prefix}-header + & {
    padding-top: 0;
  }

  + .#{$modal-prefix}-body {
    //margin-top: 5px;
  }

  input[type="text"] {
    padding-top: .5em;
    padding-bottom: .5em;
  }

  > :last-child {
    margin-bottom: 0 !important;
  }

  + .#{$modal-prefix}-footer {
    border-top: 1px solid $modal-border-color;
  }
}

// modal footer
// -----------------------------------------------------------------------------
.#{$modal-prefix}-footer {
  display: flex;
  display: -webkit-flex;
  overflow: hidden;
}

.#{$modal-prefix}-btn {
  flex: 1;
  -webkit-flex: 1;
  display: block;
  font-size: rem-calc(16);
  //line-height: rem-calc(44);
  margin: $global-spacing;
  text-align: center;
  //color: $global-primary;
  cursor: pointer;
  @include text-overflow();

  & + & {
    //border-left: 1px solid $modal-border-color;
  }

  &:active {
    //background: $modal-btn-active-bg;
  }
}

// Modal - Loading
// -----------------------------------------------------------------------------
.#{$modal-prefix}-loading {
}

// Modal - Action
// -----------------------------------------------------------------------------
%modal-translate {
  &.#{$modal-prefix}-transition-appear {
    transform: translate3d(0, 100%, 0);
    -webkit-transform: translate3d(0, 100%, 0);
  }

  &.#{$modal-prefix}-transition-appear-active {
    transform: translate3d(0, 0, 0);
    -webkit-transform: translate3d(0, 0, 0);
    transition: transform $modal-duration linear;
    -webkit-transition: transform $modal-duration linear;
  }

  &.#{$modal-prefix}-out {
    animation: amt-modal-transition-out $modal-duration linear;
    -webkit-animation: amt-modal-transition-out $modal-duration linear;
  }
}

.#{$modal-prefix}-actions {
  position: fixed;
  left: 0;
  bottom: 0;
  z-index: $z-index-modal;
  width: 100%;
  text-align: center;

  @extend %modal-translate;

  // nested List
  .#{$list-prefix} {
    margin: 0;
  }
}

@keyframes amt-modal-transition-out {
  to {
    transform: translate3d(0, 100%, 0);
    -webkit-transform: translate3d(0, 100%, 0);
  }
}

.#{$modal-prefix}-actions-group {
  margin: rem-calc(10);
}

.#{$modal-prefix}-actions-header {
  color: $gray-light;
  font-size: rem-calc(14);
}

.#{$modal-prefix}-actions-alert {
  color: $global-alert;

  a {
    color: inherit;
  }
}

// Modal Popup
// -----------------------------------------------------------------------------
.#{$modal-popup-prefix} {
  position: fixed;
  left: 10px;
  top: 10px;
  bottom: 10px;
  right: 10px;
  width: auto;
  height: auto;
  z-index: $z-index-modal;
  background: #fff;
  overflow: hidden;
  border-radius: $global-radius;

  //@extend %modal-translate;
}

.#{$modal-prefix}-popup-appear-active {
  color: red!important;
  border: 1px solid red;
}

.#{$modal-popup-prefix}-inner {
  padding-top: rem-calc($modal-popup-title-height);
  padding-bottom: $global-radius;
  height: 100%;
  @include scrollable();
}

.#{$modal-popup-prefix}-header {
  position: absolute;
  top: 0;
  width: 100%;
  padding: rem-calc(10) 0;
  //height: rem-calc($modal-popup-title-height);
  border-bottom: 1px solid $modal-border-color;
  background-color: #fff;
}

.#{$modal-popup-prefix}-icon {
  @extend %modal-icon;
  top: 50%;
  transform: translateY(-50%);
  -webkit-transform: translateY(-50%);
}

.#{$modal-popup-prefix}-title {
  margin: 0 rem-calc(30) 0 $global-spacing;
  //font-size: rem-calc(16);
  //font-weight: bold;
  //line-height: rem-calc(43);
  //text-align: center;
  //color: $gray-dark;
}

.#{$modal-popup-prefix}-body {
  padding: $global-spacing;
  //background: #f8f8f8;
  color: $gray;
  height: 100%;
  overflow: auto;
}


// Modal backdrop
// -----------------------------------------------------------------------------
.#{$modal-prefix}-backdrop {
  $this-selector: &;

  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: $z-index-modal - 1;
  background: #{$global-mask};
  opacity: 1;
  animation-duration: $modal-duration;
  -webkit-animation-duration: $modal-duration;
  animation-timing-function: ease-out;
  -webkit-animation-timing-function: ease-out;
  animation-fill-mode: forwards;
  -webkit-animation-fill-mode: forwards;
  animation-name: amt-fade-in;
  -webkit-animation-name: amt-fade-in;

  &#{$this-selector}-out {
    animation-name: amt-fade-out;
    -webkit-animation-name: amt-fade-out;
  }
}
