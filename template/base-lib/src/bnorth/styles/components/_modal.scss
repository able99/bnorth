// Amaze UI Touch: Modals
//
// Includes Alert, Prompt, Confirm, Loading, Actions, Popup, Popover
// =============================================================================


// Output
// -----------------------------------------------------------------------------

.#{$modal-prefix} {
  position: absolute;
  left: 50%;
  top: 50%;
  width: $modal-width;
  text-align: center;
  transform: translate3d(-50%, -50%, 0);
  -webkit-transform: translate3d(-50%, -50%, 0);

  &:focus {
    outline: 0;
  }
}

.#{$modal-prefix}-inner {
  position: relative;
  background: $modal-background;
  backface-visibility: hidden;
  perspective: 1000px;
  animation: amt-modal-in $modal-duration ease-out;
  -webkit-animation: amt-modal-in $modal-duration ease-out;
  border-radius: $modal-radius;

  .#{$modal-prefix}-out & {
    animation-name: amt-modal-out;
    -webkit-animation-name: amt-modal-out;
  }
}

@keyframes amt-modal-in {
  from {
    opacity: 0;
    transform: scale3d(0.5, 0.5, 1);
  }

  to {
    transform: scale3d(1, 1, 1);
    opacity: 1;
  }
}

@keyframes amt-modal-out {
  to {
    opacity: 0;
    transform: scale3d(0.5, 0.5, 1);
    -webkit-transform: scale3d(0.5, 0.5, 1);
  }
}

// modal header
.#{$modal-prefix}-header {
  width: 100%;
  padding: rem-calc(10);
  border-bottom: 1px solid $modal-border-color;
  text-align: left;
}

.#{$modal-prefix}-title {
  margin: 0;
  color: inherit;
}

// close icon
%modal-icon {
  cursor: pointer;

  &:active {
    background: $global-gray-lighter;
  }
}

.#{$modal-prefix}-icon {
  @extend %modal-icon;
}

// no-padded
.#{$modal-prefix}-no-padded {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// modal body
.#{$modal-prefix}-body {
  padding: $global-spacing;
  text-align: left;

  .#{$modal-prefix}-header + & {
    //padding-top: 0;
  }

  + .#{$modal-prefix}-body {
    //margin-top: 5px;
  }

  input[type="text"] {
    padding-top: .5em;
    padding-bottom: .5em;
  }

  > :last-child {
    margin-bottom: 0 !important;
  }

  + .#{$modal-prefix}-footer {
    border-top: 1px solid $modal-border-color;
  }
}

// modal footer
.#{$modal-prefix}-footer {
  display: flex;
  display: -webkit-flex;
  overflow: hidden;
}

.#{$modal-prefix}-btn {
  flex: 1;
  -webkit-flex: 1;
  display: block;
  font-size: rem-calc(16);
  //line-height: rem-calc(44);
  margin: $global-spacing;
  text-align: center;
  //color: $global-primary;
  cursor: pointer;
  @include text-overflow();

  & + & {
    //border-left: 1px solid $modal-border-color;
  }

  &:active {
    //background: $modal-btn-active-bg;
  }
}

// Modal - Loading
// -----------------------------------------------------------------------------
.#{$modal-prefix}-loading {
}

// Modal - Action
// -----------------------------------------------------------------------------
%modal-translate {
  &.#{$modal-prefix}-transition-appear {
    transform: translate3d(0, 100%, 0);
    -webkit-transform: translate3d(0, 100%, 0);
  }

  &.#{$modal-prefix}-transition-appear-active {
    transform: translate3d(0, 0, 0);
    -webkit-transform: translate3d(0, 0, 0);
    transition: transform $modal-duration linear;
    -webkit-transition: transform $modal-duration linear;
  }

  &.#{$modal-prefix}-out {
    animation: amt-modal-transition-out $modal-duration linear;
    -webkit-animation: amt-modal-transition-out $modal-duration linear;
  }
}

.#{$modal-prefix}-actions {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  text-align: center;

  @extend %modal-translate;

  // nested List
  .#{$list-prefix} {
    margin: 0;
  }
}

@keyframes amt-modal-transition-out {
  to {
    transform: translate3d(0, 100%, 0);
    -webkit-transform: translate3d(0, 100%, 0);
  }
}

.#{$modal-prefix}-actions-group {
  margin: rem-calc(10);
}

.#{$modal-prefix}-actions-header {
  color: $global-gray-light;
  font-size: rem-calc(14);
}

.#{$modal-prefix}-actions-alert {
  color: $global-alert;

  a {
    color: inherit;
  }
}

// Modal Popup
// -----------------------------------------------------------------------------
.#{$modal-popup-prefix} {
  position: absolute;
  left: $modal-popup-left;
  top: $modal-popup-top;
  bottom: $modal-popup-bottom;
  right: $modal-popup-right;
  width: $modal-popup-width;
  height: $modal-popup-height;
  background: $modal-popup-background;
  overflow: hidden;
  border-radius: $modal-popup-radius;

  //@extend %modal-translate;
}

.#{$modal-popup-prefix}-inner {
  @include square(100%);
}

.#{$modal-popup-prefix}-body {
  padding: $modal-popup-body-padding;
  @include square(100%);
  @include scrollable();
}

// Modal custom
// -----------------------------------------------------------------------------
//.#{$modal-popup-prefix} {
.modal-custom{
  position: fixed;
  max-width: $base-body-max-width;
  margin-left: auto;
  margin-right: auto;
  overflow: hidden;
  //border-radius: $modal-radius;

  //@extend %modal-translate;
}



// Modal backdrop
// -----------------------------------------------------------------------------
.#{$modal-prefix}-backdrop {
  $this-selector: &;

  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: $z-index-overlay;
  opacity: 1;
  

  max-width: $base-body-max-width;
  margin-left: auto;
  margin-right: auto;

  animation-duration: $modal-duration;
  -webkit-animation-duration: $modal-duration;
  animation-timing-function: ease-out;
  -webkit-animation-timing-function: ease-out;
  animation-fill-mode: forwards;
  -webkit-animation-fill-mode: forwards;
  animation-name: amt-fade-in;
  -webkit-animation-name: amt-fade-in;

  &#{$this-selector}-out {
    animation-name: amt-fade-out;
    -webkit-animation-name: amt-fade-out;
  }
}

.#{$modal-prefix}-backdrop-mask {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: #{$global-mask}; 
}