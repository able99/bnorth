[{"tags":[{"type":"copyright","string":"(c) 2016 able99","html":"<p>(c) 2016 able99</p>"},{"type":"author","string":"able99 (8846755@qq.com)","html":"<p>able99 (8846755@qq.com)</p>"},{"type":"license","string":"MIT","html":"<p>MIT</p>"}],"description":{"full":"<p>bnorth solution</p>","summary":"<p>bnorth solution</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":1,"codeStart":9,"code":"import Url from 'url-parse';\nimport { getBrowserTitle, setBrowserTitle } from '../utils/browser';","ctx":false},{"tags":[{"type":"class","string":"Url","html":"<p>Url</p>"}],"description":{"full":"<p>url 解析类，<a href=\"https://github.com/unshiftio/url-parse\">参考地址</a></p>","summary":"<p>url 解析类，<a href=\"https://github.com/unshiftio/url-parse\">参考地址</a></p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":true,"isEvent":false,"ignore":false,"line":13,"codeStart":17},{"tags":[{"type":"class","string":"","html":""}],"description":{"full":"<p>提供操作浏览器的功能c</p>","summary":"<p>提供操作浏览器的功能c</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":true,"isEvent":false,"ignore":false,"line":19,"codeStart":23,"code":"class Browser {\n  constructor(app) {\n    this.app = app;\n    this.uaInit();\n  };\n\n  //ua\n  //------------------------------","ctx":{"type":"class","constructor":"Browser","cons":"Browser","name":"Browser","extends":"","string":"new Browser()"}},{"tags":[{"type":"property","string":"{string} ua 浏览器的user agent","name":"ua","description":"<p>浏览器的user agent</p>","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false}],"description":{"full":"","summary":"","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":31,"codeStart":34,"code":"get ua() {\n  return window.navigator.userAgent;\n}","ctx":{"type":"property","constructor":"Browser","cons":"Browser","name":"ua","string":"Browser.prototype.ua"}},{"tags":[{"type":"method","string":"","html":""}],"description":{"full":"<p>在初始化时，计算浏览器类型的函数，包括<br />\nisMobile, isiOS, isAndroid, isWeChat, isAliPay<br />\n可以hook该函数，增加更多的浏览器类型</p>\n<pre><code class=\"lang-js\">this.isWeChat  = /(?:micromessenger)/.test(ua);\n</code></pre>","summary":"<p>在初始化时，计算浏览器类型的函数，包括<br />\nisMobile, isiOS, isAndroid, isWeChat, isAliPay<br />\n可以hook该函数，增加更多的浏览器类型</p>\n<pre><code class=\"lang-js\">this.isWeChat  = /(?:micromessenger)/.test(ua);\n</code></pre>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":38,"codeStart":47,"code":"uaInit() {\n  let ua = this.ua.toLowerCase();\n  this.isMobile  = /(?:micromessenger|mobile|iphone|ipod|android|coolpad|mmp|smartphone|midp|wap|xoom|symbian|j2me|blackberry|windows phone|win ce)/.test(ua);\n  this.isiOS     = /(?:iphone)/.test(ua);\n  this.isAndroid = /(?:android)/.test(ua);\n  this.isWeChat  = /(?:micromessenger)/.test(ua);\n  this.isAliPay  = /alipayclient/.test(ua);\n}\n\n//title\n//------------------------------","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"uaInit","string":"Browser.prototype.uaInit()"}},{"tags":[{"type":"property","string":"{string} title 设置和读取浏览器标题栏的文字","name":"title","description":"<p>设置和读取浏览器标题栏的文字</p>","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false}],"description":{"full":"","summary":"","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":58,"codeStart":61,"code":"get title(){\n  return getBrowserTitle();\n};\n\nset title(str){\n  return setBrowserTitle(str);\n};\n\n\n//ico\n//------------------------------","ctx":{"type":"property","constructor":"Browser","cons":"Browser","name":"title","string":"Browser.prototype.title"}},{"tags":[{"type":"property","string":"{string} icon 设置和读取浏览器标题栏的图标","name":"icon","description":"<p>设置和读取浏览器标题栏的图标</p>","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false}],"description":{"full":"","summary":"","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":72,"codeStart":75,"code":"set icon(url) {\n  var ico = document.createElement('link');\n  ico.setAttribute(\"rel\", \"shortcut icon\")\n  ico.setAttribute(\"href\", url)\n  document.getElementsByTagName(\"head\")[0].appendChild(ico);\n}\n\n//url\n//------------------------------","ctx":{"type":"property","constructor":"Browser","cons":"Browser","name":"icon","string":"Browser.prototype.icon"}},{"tags":[{"type":"method","string":"","html":""},{"type":"return","string":"{string} - url 地址","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false,"description":"<ul>\n<li>url 地址</li>\n</ul>"}],"description":{"full":"<p>返回当前页面的url 地址</p>","summary":"<p>返回当前页面的url 地址</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":84,"codeStart":89,"code":"url(){\n  return window.location.href;\n};","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"url","string":"Browser.prototype.url()"}},{"tags":[{"type":"method","string":"","html":""},{"type":"param","string":"{string} [url=this.url()] - url 地址，如果为空获取当前地址","name":"[url=this.url()]","description":"<ul>\n<li>url 地址，如果为空获取当前地址</li>\n</ul>","types":["string"],"typesDescription":"<code>string</code>","optional":true,"nullable":false,"nonNullable":false,"variable":false},{"type":"return","string":"{Url} - url解析类","types":["Url"],"typesDescription":"<a href=\"Url.html\">Url</a>","optional":false,"nullable":false,"nonNullable":false,"variable":false,"description":"<ul>\n<li>url解析类</li>\n</ul>"}],"description":{"full":"<p>返回解析后的url的类</p>","summary":"<p>返回解析后的url的类</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":93,"codeStart":99,"code":"parseUrl(url){\n  url = url || this.url();\n  return Url(url,true);\n};","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"parseUrl","string":"Browser.prototype.parseUrl()"}},{"tags":[{"type":"method","string":"","html":""},{"type":"param","string":"{Url|Path|location|string} url - Url解析对象或者bnorth path对象 ","name":"url","description":"<ul>\n<li>Url解析对象或者bnorth path对象</li>\n</ul>","types":["Url","Path","location","string"],"typesDescription":"<a href=\"Url.html\">Url</a>|<a href=\"Path.html\">Path</a>|<a href=\"location.html\">location</a>|<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false},{"type":"param","string":"{object} [query=null] - 添加到url中的查询字符串 ","name":"[query=null]","description":"<ul>\n<li>添加到url中的查询字符串</li>\n</ul>","types":["object"],"typesDescription":"<code>object</code>","optional":true,"nullable":false,"nonNullable":false,"variable":false},{"type":"returns","string":"{string} - url字符串","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false,"description":"<ul>\n<li>url字符串</li>\n</ul>"}],"description":{"full":"<p>将url 对象格式化成url 字符串</p>","summary":"<p>将url 对象格式化成url 字符串</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":104,"codeStart":111,"code":"formatUrl(url, query=null){\n  if(!url)return \"/\";\n  if(!query && typeof(url)==='string') return url;\n\n  url = (url instanceof Url)?url:Url(typeof(url)==='object'?url.pathname:url,true);\n  query = query||{};\n\n  for (let key in query) {\n    url.query[key] = query[key];\n  }\n  \n  return url.toString();\n};\n\n//parser\n//------------------------------","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"formatUrl","string":"Browser.prototype.formatUrl()"}},{"tags":[{"type":"method","string":"","html":""},{"type":"param","string":"{string} query - query 字符串 ","name":"query","description":"<ul>\n<li>query 字符串</li>\n</ul>","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false},{"type":"return","string":"{object} - query 键值对","types":["object"],"typesDescription":"<code>object</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false,"description":"<ul>\n<li>query 键值对</li>\n</ul>"}],"description":{"full":"<p>将query 字符串解析成键值对的对象</p>","summary":"<p>将query 字符串解析成键值对的对象</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":127,"codeStart":133,"code":"queryParse(...args) {\n  return Url.qs.parse(...args);\n}","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"queryParse","string":"Browser.prototype.queryParse()"}},{"tags":[{"type":"method","string":"","html":""},{"type":"param","string":"{object} obj - 包含query 键值对的对象 ","name":"obj","description":"<ul>\n<li>包含query 键值对的对象</li>\n</ul>","types":["object"],"typesDescription":"<code>object</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false},{"type":"return","string":"{string} - query 字符串","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false,"description":"<ul>\n<li>query 字符串</li>\n</ul>"}],"description":{"full":"<p>将包含query 键值对的对象转换为query 字符串</p>","summary":"<p>将包含query 键值对的对象转换为query 字符串</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":137,"codeStart":143,"code":"queryStringify(...args) {\n  return Url.qs.stringify(...args);\n}\n\n//navi\n//------------------------------","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"queryStringify","string":"Browser.prototype.queryStringify()"}},{"tags":[{"type":"method","string":"","html":""},{"type":"param","string":"{string|Url|Path|location} url - url地址，可以是字符串，Url 解析类，或者path 解析类，router location类\nurl，path，location 中的query 和 state 也会合并到查询字符串中","name":"url","description":"<ul>\n<li>url地址，可以是字符串，Url 解析类，或者path 解析类，router location类 url，path，location 中的query 和 state 也会合并到查询字符串中</li>\n</ul>","types":["string","Url","Path","location"],"typesDescription":"<code>string</code>|<a href=\"Url.html\">Url</a>|<a href=\"Path.html\">Path</a>|<a href=\"location.html\">location</a>","optional":false,"nullable":false,"nonNullable":false,"variable":false},{"type":"param","string":"{object} [params=null] - 查询字符串","name":"[params=null]","description":"<ul>\n<li>查询字符串</li>\n</ul>","types":["object"],"typesDescription":"<code>object</code>","optional":true,"nullable":false,"nonNullable":false,"variable":false}],"description":{"full":"<p>浏览器跳转到指定地址，可返回当前地址</p>","summary":"<p>浏览器跳转到指定地址，可返回当前地址</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":149,"codeStart":156,"code":"push(url,params){\n  if(typeof(url)==='object'){\n    params = Object.assign({},url.state||{},url.query||{}); // TODO:query state where is it used\n    url = url.pathname||'/';\n  }\n\n  window.location.href = this.formatUrl(url,params);\n};","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"push","string":"Browser.prototype.push()"}},{"tags":[{"type":"method","string":"","html":""}],"description":{"full":"<p>浏览器替换当前地址到指定地址，无法再返回当前地址<br />\n参数同push</p>","summary":"<p>浏览器替换当前地址到指定地址，无法再返回当前地址<br />\n参数同push</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":164,"codeStart":169,"code":"replace(url,params){\n  if(typeof(url)==='object'){\n    params = Object.assign({},url.state||{},url.query||{});\n    url.pathname = url.pathname||'/';\n  }\n  \n  url = this.formatUrl(url,params);\n  window.location.replace(url);\n};","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"replace","string":"Browser.prototype.replace()"}},{"tags":[{"type":"method","string":"","html":""},{"type":"param","string":"{number} step=1 - 返回级数","name":"step=1","description":"<ul>\n<li>返回级数</li>\n</ul>","types":["number"],"typesDescription":"<code>number</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false}],"description":{"full":"<p>返回指定到之前数量的之前地址</p>","summary":"<p>返回指定到之前数量的之前地址</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":178,"codeStart":183,"code":"back(step=1){\n  window.history.go(-step);\n};","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"back","string":"Browser.prototype.back()"}},{"tags":[{"type":"param","string":"{number} delay - 延时的毫秒数","name":"delay","description":"<ul>\n<li>延时的毫秒数</li>\n</ul>","types":["number"],"typesDescription":"<code>number</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false}],"description":{"full":"<p>重新加载当前页面</p>","summary":"<p>重新加载当前页面</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":186,"codeStart":190,"code":"reload(delay) {\n  window.location.reload();\n}\n\n//jsload\n//------------------------------","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"reload","string":"Browser.prototype.reload()"}},{"tags":[{"type":"method","string":"","html":""},{"type":"param","string":"{string} filename - js的文件地址","name":"filename","description":"<ul>\n<li>js的文件地址</li>\n</ul>","types":["string"],"typesDescription":"<code>string</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false},{"type":"param","string":"{boolean} nocache - 通过添加version，防止缓存","name":"nocache","description":"<ul>\n<li>通过添加version，防止缓存</li>\n</ul>","types":["boolean"],"typesDescription":"<code>boolean</code>","optional":false,"nullable":false,"nonNullable":false,"variable":false},{"type":"return","string":"{Promise} - 异步加载结果","types":["Promise"],"typesDescription":"<a href=\"Promise.html\">Promise</a>","optional":false,"nullable":false,"nonNullable":false,"variable":false,"description":"<ul>\n<li>异步加载结果</li>\n</ul>"}],"description":{"full":"<p>异步加载js，返回promise</p>","summary":"<p>异步加载js，返回promise</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":false,"isEvent":false,"ignore":false,"line":196,"codeStart":203,"code":"loadjs(filename, nocache){\n  return new Promise((resolve,reject)=>{\n    if(!filename){\n      reject(\"js filename error\");\n    }\n    let version = nocache===false?'':(nocache||Math.ceil((new Date()).getTime()/(1000*60)))\n\n    var fileref=document.createElement('script')\n    fileref.setAttribute(\"type\",\"text/javascript\")\n    fileref.setAttribute(\"src\", `${filename}${filename.indexOf('?')?'?':'&'}version=${version}`)\n    fileref.onload = ()=>{resolve()};\n    fileref.onerror = (error)=>{reject(error)};\n    document.getElementsByTagName(\"head\")[0].appendChild(fileref);  \n  });\n}\n}","ctx":{"type":"method","constructor":"Browser","cons":"Browser","name":"loadjs","string":"Browser.prototype.loadjs()"}},{"tags":[{"type":"class","string":"browserPlugin","html":"<p>browserPlugin</p>"},{"type":"property","string":"{class} app.Browser - Browser 类","name":"app.Browser","description":"<ul>\n<li>Browser 类</li>\n</ul>","types":["class"],"typesDescription":"<a href=\"class.html\">class</a>","optional":false,"nullable":false,"nonNullable":false,"variable":false},{"type":"property","string":"{Browser} app.browser - Browser 类实例","name":"app.browser","description":"<ul>\n<li>Browser 类实例</li>\n</ul>","types":["Browser"],"typesDescription":"<a href=\"Browser.html\">Browser</a>","optional":false,"nullable":false,"nonNullable":false,"variable":false}],"description":{"full":"<p><strong>plugin</strong> name: browser dependence: none<br />\n浏览器相关操作插件</p>","summary":"<p><strong>plugin</strong> name: browser dependence: none<br />\n浏览器相关操作插件</p>","body":""},"isPrivate":false,"isConstructor":false,"isClass":true,"isEvent":false,"ignore":false,"line":220,"codeStart":227,"code":"export default {\n  name: 'browser',\n\n  init(app) {\n    app.Browser = Browser;\n    app.browser = new Browser(app);\n  }\n}","ctx":false}]